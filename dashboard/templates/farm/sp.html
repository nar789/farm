{% extends 'farm/base.html' %}
{% block content %}
{% load staticfiles %}
	<link href="{% static 'farm/css/e1.css' %}" rel="stylesheet">	
	<link href="https://use.fontawesome.com/releases/v5.0.7/css/all.css" rel="stylesheet">


	<div class=tg>
		<h3><a href="{% url 'plist' %}"><i class="fas fa-arrow-left"></i></a> 육묘계획</h3>		
		<hr>
		<a href="{% static 'farm/files/env_outer.xlsx' %}" download><button class="optional btn btn-primary mr-1"><i class="mdi mdi-download"></i> 엑셀파일로 다운로드</button></a>
		<input type=file name="xls" id="xls" style="display:none;">
		<a href="javascript:document.getElementById('xls').click();"><button class="optional btn btn-primary mr-1 ml-1"><i class="mdi mdi-upload"></i> 엑셀파일로 업로드</button></a>
		<a href="{% url 'sp_update' %}"><button class="btn btn-success"><i class="fas fa-plus"></i> 추가</button></a>
		<table class="table table-hover table-responsive">
		  <thead>
		    <tr>
		      <th scope="col">ID</th>
		      <th scope="col">육묘계획ID</th>
		      <th scope="col">육묘일정</th>
		      <th scope="col">트레이 규격</th>
		      <th scope="col">상토명</th>
		      <th scope="col">육묘일수</th>
		      <th scope="col">파종일</th>
		      <th scope="col">접목일</th>
		      <th scope="col">접수 접목일수</th>
		      <th scope="col">대목 접목일수</th>
		      <th scope="col">접목 활착일수</th>
		      <th scope="col">출하일</th>
		      <th scope="col">공정단계코드</th>
		      <th scope="col">작물정보ID</th>
		      <th scope="col">수정</th>	
		      <th scope="col">삭제</th>	
		    </tr>
		  </thead>
		  <tbody>
	 
		{% for i in ds %}
			
			<tr>
				<td>{{i.id}}</td>
				<td>{{i.SP_ID}}</td>
				<td>{{i.SP_DATE}}</td>
				<td>{{i.SP_TRAY}}</td>
				<td>{{i.SP_GROW_MEDIA}}</td>
				<td>{{i.SP_PRODUCTION}}</td>
				<td>{{i.SP_SEEDING_DATE}}</td>
				<td>{{i.SP_GRAFTING_DATE}}</td>
				<td>{{i.SP_SCION_GRAFT}}</td>
				<td>{{i.SP_ROOT_GRAFT}}</td>
				<td>{{i.SP_GRAFT_TAKE}}</td>
				<td>{{i.SP_SHIPPING_DATE}}</td>
				<td>{{i.PS_ID.PS_PLAN_CODE}}</td>
				<td>{{i.CI_INFO_ID.CI_INFO_ID}}</td>
		

				<td><a href="{% url 'sp_update' %}?id={{i.id}}"><button class="btn btn-info">수정</button></a></td>
				<td><button class="btn btn-danger" data-toggle="modal" data-target="#delmodal{{i.id}}">삭제</button></td>

				<div class="modal fade" id="delmodal{{i.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				  <div class="modal-dialog" role="document">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h5 class="modal-title" id="exampleModalLabel">데이터 삭제</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
				      </div>
				      <div class="modal-body">
				        <h5>데이터를 삭제하시겠습니까?</h5>
				        <h6 class="text-danger">※삭제할시, 복원이 불가합니다. </h6>
				      </div>
				      <div class="modal-footer">
				        <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
				        <a href="{% url 'sp_delete' i.id %}"><button type="button" class="btn btn-danger">데이터삭제</button></a>
				      </div>
				    </div>
				  </div>
				</div>
			</tr>
			
		{% endfor %}
		</tbody>
		</table>
	</div>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="{% static 'farm/js/m4.js' %}"></script>
{% endblock %}